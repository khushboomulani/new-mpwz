<div class="main-wrap" appNoRightClick>
    <div class="loadr" *ngIf='loading'>
        <img src="assets/img/loading.gif" class="loadimg">
    </div>
    <app-dept-header></app-dept-header>
    <div class="main container cf">
        <div class="row post-content">
            <div class="col-md-12">
                <h2>Create Department</h2>
                <div class="login">
                    <form [formGroup]="createForm" class="" (ngSubmit)="onSubmit()">
                        <!-- <form class="login"> -->

                        <div class="row">

                            <div class="col-md-12">
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="dept">Department</label>
                                            <input type="text" formControlName="dept" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.dept.errors }">
                                            <div *ngIf="submitted && f.dept.errors" class="invalid-feedback">
                                                <div *ngIf="f.dept.errors.required">Department is required.</div>
                                                <div *ngIf="f.dept.errors.pattern">Department Name is only accept
                                                    characters.</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="deptid">Department Id </label>
                                            <input type="text" formControlName="deptid" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.deptid.errors }">

                                            <div *ngIf="submitted && f.deptid.errors" class="invalid-feedback">
                                                <div *ngIf="f.deptid.errors.required">Department Id is required.</div>
                                                <div *ngIf="f.deptid.errors.pattern">Department is only accept Digits.
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="location">Location</label>
                                            <input type="text" formControlName="location" class="form-control"
                                                [ngClass]="{ 'is-invalid': submitted && f.location.errors }">

                                            <div *ngIf="submitted && f.location.errors" class="invalid-feedback">
                                                <div *ngIf="f.location.errors.required">Location is required.</div>
                                                <div *ngIf="f.location.errors.pattern">Location is only accept
                                                    characters.</div>
                                            </div>


                                        </div>
                                    </div>
                                    <div class="col-md-3" style="padding-top:18px"> <button type="submit"
                                            class="btn btn-warning btn-lar">Submit</button></div>
                                </div>







                            </div>
                        </div>

                        <div class="clearfix"></div>
                    </form>
                    <!-- Modal -->
                </div>
            </div>




        </div>

        <!-- Existing Departments -->
        <div class="row post-content">
            <div class="col-md-12">
                <h2>Existing Departments</h2>
                <div class="table-responsive">
                    <table class="table table-striped">
                        <tr class="thead">
                            <th>Sr. No.</th>
                            <th>Department Name</th>
                            <th>Department Location</th>
                            <th>Department ID</th>
                            <th>Action</th>
                            <th>Assign Role</th>
                        </tr>
                        <tr *ngFor='let data of respdept;index as i'>
                            <td>{{i+1}}</td>
                            <td>{{data.depname}}</td>
                            <td>{{data.location}}</td>
                            <td>{{data.depid}}</td>
                            <td><button class="btn btn-danger btn-xs" (click)="RemoveDept(data.depid,data.depname)"><i
                                        class="fa fa-remove"></i> Delete</button></td>
                            <td><button class="btn btn-success btn-xs"
                                    [routerLink]="['/admin-assign-role',data.depname,data.depid]"> Assign Role</button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

        </div>
    </div>

</div>